{"version":3,"sources":["components/MessageEditor.module.css","components/MessageComposer.module.css","lib/socket.js","constants.js","stores/channels.js","stores/messages.js","stores/users.js","actions.js","components/Label.jsx","components/Select.jsx","components/UserAccountSelector.jsx","components/Button.jsx","components/TextInput.jsx","components/UserAccountCreator.jsx","views/Authorization.jsx","components/List.jsx","components/ChannelsList.jsx","components/ChannelCreator.jsx","components/MessageComposer.jsx","hooks/channels.js","components/MessageEditor.jsx","components/ReactionIcon.jsx","components/ReactionCreator.jsx","components/MessageViewer.jsx","components/UsersList.jsx","views/Chat.jsx","hooks/users.js","views/Main.jsx","index.jsx","components/UsersList.module.css","components/List.module.css","components/UserAccountCreator.module.css","components/ChannelCreator.module.css","views/Chat.module.css","components/UserAccountSelector.module.css","views/Authorization.module.css","components/ChannelsList.module.css","components/Label.module.css","components/Select.module.css","components/Button.module.css","components/TextInput.module.css","components/ReactionIcon.module.css","components/MessageViewer.module.css"],"names":["module","exports","socket","openSocket","localStorageKeys","keyMirror","USER_ID","clientEvents","FETCH_ALL_MESSAGES","FETCH_ALL_CHANNELS","FETCH_ALL_USERS","CREATE_CHANNEL","CREATE_MESSAGE","EDIT_MESSAGE","CREATE_USER","LOG_IN","LOG_OUT","emojiReactions","LIKE","LOVE","LOL","serverEvents","UPDATE_ALL_MESSAGES","UPDATE_ALL_CHANNELS","UPDATE_ALL_USERS","create","set","get","activeChannelId","channels","setActiveChannelId","useChannelStore","channelStoreApi","messages","useMessageStore","api","activeUserId","users","useUserStore","userStoreApi","axios","defaults","withCredentials","getRoute","suffix","createChannel","channelName","a","post","createMessage","channelId","content","createUser","username","logIn","id","setState","window","localStorage","setItem","logOut","editMessage","messageId","patch","createReaction","emojiId","Label","children","className","styles","label","Select","props","classnames","select","UserAccountSelector","onSubmit","state","wrapper","onChange","event","userId","currentTarget","value","concat","map","user","key","Button","button","TextInput","React","forwardRef","ref","input","type","UserAccountCreator","inputRef","useRef","preventDefault","current","placeholder","Authorization","pageWrapper","ListItem","isActive","onClick","InnerTag","listItemWrapper","listItem","listItemInteractive","listItemActive","List","list","ChannelsList","channel","name","channelList","ChannelCreator","inputWrapper","MessageCharacterWarning","charactersLeft","length","classNames","characterLimit","characterLimitExceeded","MessageComposer","activeChannel","useMemo","find","useActiveChannel","isDisabled","useState","inputValue","setInputValue","root","focus","disabled","e","target","MessageEditor","onClose","useLayoutEffect","defaultValue","onKeyDown","cancelText","cancelButton","ReactionIcon","emoji","console","log","emojiButton","aria-label","role","ReactionCreator","Object","keys","values","emojiReaction","Message","createdAt","isEditing","setIsEditing","dateInstance","Date","message","metadata","timestamp","formatRelative","editButton","MessageViewer","allMessages","messagesForActiveChannel","filter","isEmpty","wrapperEmpty","empty","UsersList","userMe","userOnline","isOnline","statusIndicator","statusIndicatorOnline","Chat","activeUser","useActiveUser","channelsContentFixed","channelsWrapper","logOutWrapper","logOutContent","logOutUser","logOutButton","chat","chatWrapper","messageComposerWrapper","Main","isValidActiveId","some","on","currentState","getState","emit","storedUserId","getItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d105e954.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MessageEditor_root__n3e0Q\",\"wrapper\":\"MessageEditor_wrapper__xOCsj\",\"input\":\"MessageEditor_input__1picR\",\"button\":\"MessageEditor_button__4nIJO\",\"cancelText\":\"MessageEditor_cancelText__1L4ls\",\"cancelButton\":\"MessageEditor_cancelButton__1YQUi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MessageComposer_root__28QKd\",\"wrapper\":\"MessageComposer_wrapper__3_Wth\",\"input\":\"MessageComposer_input__2q3_E\",\"button\":\"MessageComposer_button__5bI4Y\",\"characterLimit\":\"MessageComposer_characterLimit__19QPr\",\"characterLimitExceeded\":\"MessageComposer_characterLimitExceeded__w8pUY\"};","import openSocket from \"socket.io-client\";\n\nconst socket = openSocket(\"http://localhost:8000\");\n\nexport default socket;\n","import keyMirror from \"key-mirror\";\n\nexport const localStorageKeys = keyMirror({\n  USER_ID: null,\n});\n\nexport const clientEvents = keyMirror({\n  FETCH_ALL_MESSAGES: null,\n  FETCH_ALL_CHANNELS: null,\n  FETCH_ALL_USERS: null,\n  CREATE_CHANNEL: null,\n  CREATE_MESSAGE: null,\n  EDIT_MESSAGE: null,\n  CREATE_USER: null,\n  LOG_IN: null,\n  LOG_OUT: null,\n});\n\nexport const emojiReactions = {\n  LIKE: '👍',\n  LOVE: '❤️',\n  LOL: '😂',\n};\n\nexport const serverEvents = keyMirror({\n  UPDATE_ALL_MESSAGES: null,\n  UPDATE_ALL_CHANNELS: null,\n  UPDATE_ALL_USERS: null,\n});\n\nexport const MESSAGE_LIMIT = 256;\n","import create from \"zustand\";\nimport socket from \"../lib/socket\";\nimport { clientEvents, serverEvents } from \"../constants\";\n\nexport const [useChannelStore, channelStoreApi] = create((set, get) => ({\n  activeChannelId: null,\n  channels: [],\n  setActiveChannelId: (activeChannelId) => set({ activeChannelId }),\n}));\n\nexport const initializeChannelStore = () => {\n  socket.on(serverEvents.UPDATE_ALL_CHANNELS, (channels) => {\n    const currentState = channelStoreApi.getState();\n    channelStoreApi.setState({\n      channels,\n      activeChannelId:\n        currentState.activeChannelId == null && channels.length > 0\n          ? channels[0].id\n          : currentState.activeChannelId,\n    });\n  });\n  socket.emit(clientEvents.FETCH_ALL_CHANNELS);\n};\n","import create from \"zustand\";\nimport socket from \"../lib/socket\";\nimport { clientEvents, serverEvents } from \"../constants\";\n\nexport const [useMessageStore, api] = create((set) => ({\n  messages: [],\n}));\n\nexport const initializeMessageStore = () => {\n  socket.on(serverEvents.UPDATE_ALL_MESSAGES, (messages) =>\n    api.setState({ messages })\n  );\n  socket.emit(clientEvents.FETCH_ALL_MESSAGES);\n};\n","import create from \"zustand\";\nimport socket from \"../lib/socket\";\nimport { clientEvents, serverEvents } from \"../constants\";\n\nexport const [useUserStore, userStoreApi] = create((set) => ({\n  activeUserId: null,\n  users: [],\n}));\n\nexport const initializeUserStore = () => {\n  socket.on(serverEvents.UPDATE_ALL_USERS, (users) => {\n    userStoreApi.setState({ users });\n  });\n  socket.emit(clientEvents.FETCH_ALL_USERS);\n};\n","import axios from \"axios\";\nimport { userStoreApi } from \"./stores/users\";\nimport { localStorageKeys } from \"./constants\";\n\naxios.defaults.withCredentials = true;\n\nconst getRoute = (suffix) => `http://localhost:8000${suffix}`;\n\nexport const createChannel = async (channelName) => {\n  await axios.post(getRoute(\"/channels\"), { channelName });\n};\n\nexport const createMessage = async (channelId, content) => {\n  await axios.post(getRoute(`/channels/${channelId}/messages`), { content });\n};\n\nexport const createUser = async (username) => {\n  await axios.post(getRoute(\"/users\"), { username });\n};\n\nexport const logIn = async (id) => {\n  await axios.post(getRoute(\"/login\"), { id });\n  userStoreApi.setState({ activeUserId: id });\n  window.localStorage.setItem(localStorageKeys.USER_ID, id);\n};\n\nexport const logOut = async () => {\n  await axios.post(getRoute(\"/logout\"));\n  userStoreApi.setState({ activeUserId: null });\n  window.localStorage.setItem(localStorageKeys.USER_ID, \"\");\n};\n\nexport const editMessage = async ({ messageId, channelId, content }) => {\n  await axios.patch(getRoute(`/channels/${channelId}/messages/${messageId}`), {\n    content,\n  });\n};\n\nexport const createReaction = async (messageId,emojiId) => {\n  await axios.post(getRoute(`/messages/${messageId}/reactions`), { emojiId });\n};\n","import React from \"react\";\nimport styles from \"./Label.module.css\";\n\nconst Label = ({ children }) => (\n  <label className={styles.label}>{children}</label>\n);\n\nexport default Label;\n","import classnames from \"classnames\";\nimport React from \"react\";\nimport styles from \"./Select.module.css\";\n\nconst Select = ({ className, ...props }) => (\n  <select className={classnames(styles.select, className)} {...props} />\n);\n\nexport default Select;\n","import React from \"react\";\nimport Label from \"./Label\";\nimport Select from \"./Select\";\nimport { logIn } from \"../actions\";\nimport { useUserStore } from \"../stores/users\";\nimport styles from \"./UserAccountSelector.module.css\";\n\nconst UserAccountSelector = ({ onSubmit }) => {\n  const users = useUserStore((state) => state.users);\n  const activeUserId = useUserStore((state) => state.activeUserId);\n\n  return (\n    <div className={styles.wrapper}>\n      <Label>Select User</Label>\n      <Select\n        className={styles.select}\n        onChange={(event) => {\n          const userId =\n            event.currentTarget.value === \"-1\"\n              ? null\n              : event.currentTarget.value;\n          logIn(userId);\n        }}\n        value={activeUserId == null ? \"\" : activeUserId}\n      >\n        {[{ id: -1, username: \"None\" }].concat(users).map((user) => (\n          <option key={user.id} value={user.id}>\n            {user.username}\n          </option>\n        ))}\n      </Select>\n    </div>\n  );\n};\n\nexport default UserAccountSelector;\n","import classnames from \"classnames\";\nimport React from \"react\";\nimport styles from \"./Button.module.css\";\n\nconst Button = ({ className, ...props }) => (\n  <button className={classnames(styles.button, className)} {...props} />\n);\n\nexport default Button;\n","import classnames from \"classnames\";\nimport React from \"react\";\nimport styles from \"./TextInput.module.css\";\n\nconst TextInput = React.forwardRef(({ className, ...props }, ref) => (\n  <input\n    ref={ref}\n    className={classnames(styles.input, className)}\n    type=\"text\"\n    {...props}\n  />\n));\n\nexport default TextInput;\n","import React from \"react\";\nimport Button from \"./Button\";\nimport { createUser } from \"../actions\";\nimport Label from \"./Label\";\nimport TextInput from \"./TextInput\";\nimport styles from \"./UserAccountCreator.module.css\";\n\nconst UserAccountCreator = ({ onSubmit }) => {\n  const inputRef = React.useRef(null);\n\n  return (\n    <form\n      onSubmit={(event) => {\n        event.preventDefault();\n        if (inputRef.current == null || inputRef.current.value === \"\") return;\n        createUser(inputRef.current.value);\n        inputRef.current.value = \"\";\n      }}\n      className={styles.wrapper}\n    >\n      <Label>Create User</Label>\n      <div className={styles.content}>\n        <TextInput\n          className={styles.input}\n          placeholder=\"Username\"\n          ref={inputRef}\n        />\n        <Button className={styles.button} type=\"submit\">\n          Add\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default UserAccountCreator;\n","import React from \"react\";\nimport UserAccountSelector from \"../components/UserAccountSelector\";\nimport styles from \"./Authorization.module.css\";\nimport UserAccountCreator from \"../components/UserAccountCreator\";\n\nconst Authorization = () => {\n  return (\n    <div className={styles.pageWrapper}>\n      <div className={styles.wrapper}>\n        <UserAccountSelector />\n        <UserAccountCreator />\n      </div>\n    </div>\n  );\n};\n\nexport default Authorization;\n","import classnames from \"classnames\";\nimport React from \"react\";\nimport styles from \"./List.module.css\";\n\nconst List = ({ children }) => <ul className={styles.list}>{children}</ul>;\n\nexport const ListItem = ({\n  children,\n  className,\n  isActive = false,\n  onClick,\n}) => {\n  const InnerTag = onClick == null ? \"span\" : \"button\";\n\n  return (\n    <li className={styles.listItemWrapper}>\n      <InnerTag\n        className={classnames(\n          styles.listItem,\n          {\n            [styles.listItemInteractive]: onClick != null,\n            [styles.listItemActive]: isActive,\n          },\n          className\n        )}\n        onClick={onClick}\n      >\n        {children}\n      </InnerTag>\n    </li>\n  );\n};\n\nexport default List;\n","import React from \"react\";\nimport { useChannelStore } from \"../stores/channels\";\nimport Label from \"./Label\";\nimport List, { ListItem } from \"./List\";\nimport styles from \"./ChannelsList.module.css\";\n\nconst ChannelsList = () => {\n  const channels = useChannelStore((state) => state.channels);\n  const activeChannelId = useChannelStore((state) => state.activeChannelId);\n  const setActiveChannelId = useChannelStore(\n    (state) => state.setActiveChannelId\n  );\n\n  return (\n    <div className={styles.wrapper}>\n      <Label>Channels</Label>\n      <List>\n        {channels.map((channel) => (\n          <ListItem\n            key={channel.id}\n            isActive={activeChannelId === channel.id}\n            onClick={() => setActiveChannelId(channel.id)}\n          >\n            #{channel.name}\n          </ListItem>\n        ))}\n      </List>\n      <ul className={styles.channelList}></ul>\n    </div>\n  );\n};\n\nexport default ChannelsList;\n","import React from \"react\";\nimport { createChannel } from \"../actions\";\nimport Label from \"./Label\";\nimport TextInput from \"./TextInput\";\nimport Button from \"./Button\";\nimport styles from \"./ChannelCreator.module.css\";\n\nconst ChannelCreator = ({ onSubmit }) => {\n  const inputRef = React.useRef(null);\n\n  return (\n    <form\n      onSubmit={(event) => {\n        event.preventDefault();\n        if (inputRef.current == null || inputRef.current.value === \"\") return;\n        createChannel(inputRef.current.value);\n        inputRef.current.value = \"\";\n      }}\n      className={styles.wrapper}\n    >\n      <Label>Create Channel</Label>\n      <div className={styles.inputWrapper}>\n        <TextInput\n          className={styles.input}\n          placeholder=\"Channel Name\"\n          ref={inputRef}\n        />\n        <Button className={styles.button} type=\"submit\">\n          +\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default ChannelCreator;\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport Button from \"./Button\";\nimport { createMessage } from \"../actions\";\nimport TextInput from \"./TextInput\";\nimport { useActiveChannel } from \"../hooks/channels\";\nimport { useUserStore } from \"../stores/users\";\nimport { MESSAGE_LIMIT } from \"../constants\";\nimport styles from \"./MessageComposer.module.css\";\n\nconst MESSAGE_LIMIT_BUFFER = 8;\n\nexport const MessageCharacterWarning = ({ content }) => {\n  const charactersLeft = MESSAGE_LIMIT - content.length;\n  if (charactersLeft > MESSAGE_LIMIT_BUFFER) {\n    return null;\n  }\n  return (\n    <div\n      className={classNames(styles.characterLimit, {\n        [styles.characterLimitExceeded]: charactersLeft < 0,\n      })}\n    >\n      {charactersLeft}\n    </div>\n  );\n};\n\nconst MessageComposer = () => {\n  const activeUserId = useUserStore((state) => state.activeUserId);\n  const activeChannel = useActiveChannel();\n  const inputRef = React.useRef(null);\n  const isDisabled = activeUserId == null || activeChannel == null;\n\n  const [inputValue, setInputValue] = React.useState(\"\");\n  const onChange = (e) => {\n    setInputValue(e.target.value);\n  };\n\n  return (\n    <form\n      className={styles.root}\n      onSubmit={(event) => {\n        event.preventDefault();\n        if (inputRef.current != null) {\n          const value = inputRef.current.value;\n          if (value !== \"\" && value.length <= MESSAGE_LIMIT) {\n            createMessage(activeChannel.id, inputRef.current.value);\n            inputRef.current.value = \"\";\n            inputRef.current.focus();\n          }\n        }\n      }}\n    >\n      <MessageCharacterWarning content={inputValue} />\n      <div className={styles.wrapper}>\n        <TextInput\n          className={styles.input}\n          disabled={isDisabled}\n          onChange={onChange}\n          placeholder={\n            activeChannel == null\n              ? \"Select a channel\"\n              : activeUserId == null\n              ? \"Select a user\"\n              : `Message #${activeChannel.name}`\n          }\n          ref={inputRef}\n        />\n        <Button\n          className={styles.button}\n          type=\"submit\"\n          disabled={isDisabled || inputValue.length > MESSAGE_LIMIT}\n        >\n          Send\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default MessageComposer;\n","import React from \"react\";\nimport { useChannelStore } from \"../stores/channels\";\n\nexport const useActiveChannel = () => {\n  const activeChannelId = useChannelStore((state) => state.activeChannelId);\n  const channels = useChannelStore((state) => state.channels);\n  return React.useMemo(\n    () => channels.find((channel) => channel.id === activeChannelId),\n    [channels, activeChannelId]\n  );\n};\n","import React from \"react\";\nimport Button from \"./Button\";\nimport TextInput from \"./TextInput\";\nimport { editMessage } from \"../actions\";\nimport styles from \"./MessageEditor.module.css\";\nimport { MessageCharacterWarning } from \"./MessageComposer\";\nimport { MESSAGE_LIMIT } from \"../constants\";\n\nconst MessageEditor = ({ id, content, onClose, channelId }) => {\n  const inputRef = React.useRef(null);\n\n  const [inputValue, setInputValue] = React.useState(content);\n  React.useLayoutEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  return (\n    <form\n      className={styles.root}\n      onSubmit={async (event) => {\n        event.preventDefault();\n        await editMessage({\n          messageId: id,\n          channelId,\n          content: inputRef.current.value,\n        });\n        onClose();\n      }}\n    >\n      <MessageCharacterWarning content={inputValue} />\n      <div className={styles.wrapper}>\n        <TextInput\n          defaultValue={content}\n          className={styles.input}\n          onKeyDown={(e) => {\n            if (e.key === \"Escape\") {\n              onClose();\n            }\n          }}\n          onChange={(e) => setInputValue(e.target.value)}\n          ref={inputRef}\n        />\n        <Button\n          className={styles.button}\n          type=\"submit\"\n          disabled={content.length > MESSAGE_LIMIT}\n        >\n          Save\n        </Button>\n      </div>\n      <div className={styles.cancelText}>\n        ESC to{\" \"}\n        <button onClick={() => onClose()} className={styles.cancelButton}>\n          Cancel\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default MessageEditor;\n","import React from \"react\";\nimport { createReaction } from \"../actions\";\nimport styles from \"./ReactionIcon.module.css\";\n\nconst  ReactionIcon = ({ messageId,emoji }) => {\n    console.log(emoji);\n    return (\n        <button className={styles.emojiButton} onClick={() =>createReaction(messageId,emoji)}>\n            <span aria-label=\"emoji\" role=\"img\">\n                {emoji}\n            </span>\n        </button>\n      );\n};\n\nexport default ReactionIcon;","import React from \"react\";\nimport ReactionIcon from \"./ReactionIcon\";\nimport { emojiReactions } from \"../constants\";\n\nconst  ReactionCreator = ({ messageId }) => {\n    console.log(Object.keys(emojiReactions));\n    return (\n        Object.values(emojiReactions).map((emojiReaction) => (\n            <ReactionIcon messageId={messageId} emoji={emojiReaction}/>\n        ))\n    );\n};\n\nexport default ReactionCreator;\n","import classnames from \"classnames\";\nimport formatRelative from \"date-fns/formatRelative\";\nimport React from \"react\";\nimport { useChannelStore } from \"../stores/channels\";\nimport { useMessageStore } from \"../stores/messages\";\nimport { useUserStore } from \"../stores/users\";\nimport MessageEditor from \"./MessageEditor\";\nimport styles from \"./MessageViewer.module.css\";\nimport ReactionCreator from \"../components/ReactionCreator\";\n\nconst Message = ({ content, createdAt, id, userId, channelId }) => {\n  const [isEditing, setIsEditing] = React.useState(false);\n  const user = useUserStore((state) =>\n    state.users.find((user) => user.id === userId)\n  );\n  const activeUserId = useUserStore((state) => state.activeUserId);\n  const dateInstance = React.useMemo(() => new Date(createdAt), [createdAt]);\n\n  return (\n    <div className={styles.message}> \n      <div className={styles.metadata}>\n        {user == null ? null : (\n          <span className={styles.username}>{user.username}</span>\n        )}\n        <span className={styles.timestamp}>\n          {formatRelative(dateInstance, new Date())}\n        </span>\n      </div>\n      {isEditing ? (\n        <MessageEditor\n          channelId={channelId}\n          id={id}\n          content={content}\n          onClose={() => setIsEditing(false)}\n        />\n      ) : (\n        content\n      )}\n      {userId === activeUserId && !isEditing ? (\n        <button\n          onClick={() => setIsEditing(true)}\n          className={styles.editButton}\n        >\n          Edit\n        </button>\n      ) : null}\n    </div>\n  );\n};\n\nconst MessageViewer = () => {\n  const allMessages = useMessageStore((state) => state.messages);\n  const activeChannelId = useChannelStore((state) => state.activeChannelId);\n  const messagesForActiveChannel = React.useMemo(\n    () =>\n      allMessages.filter((message) => message.channelId === activeChannelId),\n    [activeChannelId, allMessages]\n  );\n  const isEmpty = messagesForActiveChannel.length === 0;\n\n  return (\n    <div\n      className={classnames(styles.wrapper, { [styles.wrapperEmpty]: isEmpty })}\n    >\n      {isEmpty ? (\n        <div className={styles.empty}>\n          No messages{\" \"}\n          <span aria-label=\"Sad face\" role=\"img\">\n            😢\n          </span>\n        </div>\n      ) : (\n        messagesForActiveChannel.map((message) => (\n          <div key={message.id} className={styles.empty}>\n            <Message\n              channelId={activeChannelId}\n              key={message.id}\n              id={message.id}\n              content={message.content}\n              createdAt={message.createdAt}\n              userId={message.userId}\n            />\n            <ReactionCreator messageId={message.id}/>\n          </div>\n        ))\n      )}\n    </div>\n  );\n};\n\nexport default MessageViewer;\n","import classnames from \"classnames\";\nimport React from \"react\";\nimport { useUserStore } from \"../stores/users\";\nimport Label from \"./Label\";\nimport List, { ListItem } from \"./List\";\nimport styles from \"./UsersList.module.css\";\n\nconst UsersList = () => {\n  const users = useUserStore((state) => state.users);\n  const activeUserId = useUserStore((state) => state.activeUserId);\n\n  return (\n    <div className={styles.wrapper}>\n      <Label>Users</Label>\n      <List>\n        {users.map((user) => (\n          <ListItem\n            className={classnames(styles.user, {\n              [styles.userMe]: user.id === activeUserId,\n              [styles.userOnline]: user.isOnline,\n            })}\n            key={user.id}\n          >\n            <span\n              className={classnames(styles.statusIndicator, {\n                [styles.statusIndicatorOnline]: user.isOnline,\n              })}\n            />\n            {user.username}\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n};\n\nexport default UsersList;\n","import classnames from \"classnames\";\nimport React from \"react\";\nimport Button from \"../components/Button\";\nimport ChannelsList from \"../components/ChannelsList\";\nimport ChannelCreator from \"../components/ChannelCreator\";\nimport Label from \"../components/Label\";\nimport { logOut } from \"../actions\";\nimport MessageViewer from \"../components/MessageViewer\";\nimport MessageComposer from \"../components/MessageComposer\";\nimport UsersList from \"../components/UsersList\";\nimport styles from \"./Chat.module.css\";\nimport { useActiveUser } from \"../hooks/users\";\n\nconst Chat = () => {\n  const activeUser = useActiveUser();\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={styles.channels}>\n        <div className={styles.channelsContentFixed}>\n          <ChannelCreator />\n        </div>\n        <div className={styles.channelsWrapper}>\n          <ChannelsList />\n        </div>\n        {activeUser == null ? null : (\n          <div\n            className={classnames(\n              styles.logOutWrapper,\n              styles.channelsContentFixed\n            )}\n          >\n            <Label>Logged in as</Label>\n            <div className={styles.logOutContent}>\n              <div className={styles.logOutUser}>{activeUser.username}</div>\n              <Button className={styles.logOutButton} onClick={logOut}>\n                Log Out\n              </Button>\n            </div>\n          </div>\n        )}\n      </div>\n      <div className={styles.chat}>\n        <div className={styles.chatWrapper}>\n          <MessageViewer />\n        </div>\n        <div className={styles.messageComposerWrapper}>\n          <MessageComposer />\n        </div>\n      </div>\n      <div className={styles.users}>\n        <UsersList />\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React from \"react\";\nimport { useUserStore } from \"../stores/users\";\n\nexport const useActiveUser = () => {\n  const activeUserId = useUserStore((state) => state.activeUserId);\n  const users = useUserStore((state) => state.users);\n  return React.useMemo(() => users.find((user) => user.id === activeUserId), [\n    activeUserId,\n    users,\n  ]);\n};\n","import React from \"react\";\nimport Authorization from \"./Authorization\";\nimport Chat from \"./Chat\";\nimport { useUserStore } from \"../stores/users\";\n\nconst Main = () => {\n  const activeUserId = useUserStore((state) => state.activeUserId);\n  const users = useUserStore((state) => state.users);\n  const isValidActiveId = React.useMemo(\n    () => users.some((user) => user.id === activeUserId),\n    [users, activeUserId]\n  );\n\n  if (activeUserId == null || !isValidActiveId) {\n    return <Authorization />;\n  }\n\n  return <Chat />;\n};\n\nexport default Main;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { initializeChannelStore } from \"./stores/channels\";\nimport { initializeMessageStore } from \"./stores/messages\";\nimport { initializeUserStore } from \"./stores/users\";\nimport { localStorageKeys } from \"./constants\";\nimport { logIn } from \"./actions\";\nimport Main from \"./views/Main\";\n\nimport \"./index.module.css\";\n\ninitializeChannelStore();\ninitializeMessageStore();\ninitializeUserStore();\n\nconst storedUserId = window.localStorage.getItem(localStorageKeys.USER_ID);\nif (storedUserId != null && storedUserId !== \"\") {\n  logIn(storedUserId);\n}\n\nReactDOM.render(<Main />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UsersList_wrapper__34Qtc\",\"user\":\"UsersList_user__3toL9\",\"userMe\":\"UsersList_userMe__2uejX\",\"userOnline\":\"UsersList_userOnline__10-Bj\",\"statusIndicator\":\"UsersList_statusIndicator___r2_s\",\"statusIndicatorOnline\":\"UsersList_statusIndicatorOnline__1kcYT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"List_list__12_ST\",\"listItem\":\"List_listItem__2bt8g\",\"listItemInteractive\":\"List_listItemInteractive__3tOgC\",\"listItemActive\":\"List_listItemActive__2o0uz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserAccountCreator_wrapper__1E4Dp\",\"content\":\"UserAccountCreator_content__2cGNz\",\"input\":\"UserAccountCreator_input__TTQm3\",\"button\":\"UserAccountCreator_button__QohE6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ChannelCreator_wrapper__1GNGV\",\"inputWrapper\":\"ChannelCreator_inputWrapper__sxBmP\",\"input\":\"ChannelCreator_input__1Sbct\",\"button\":\"ChannelCreator_button__2rOGY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Chat_wrapper__3KRe_\",\"channels\":\"Chat_channels__1sawh\",\"channelsWrapper\":\"Chat_channelsWrapper__1LJjV\",\"channelsContentFixed\":\"Chat_channelsContentFixed__16_xO\",\"logOutWrapper\":\"Chat_logOutWrapper__WFlwc\",\"logOutContent\":\"Chat_logOutContent__2j-KK\",\"logOutUser\":\"Chat_logOutUser__qyTzq\",\"logOutButton\":\"Chat_logOutButton__3_-Rl\",\"hover\":\"Chat_hover__2ZEk9\",\"chat\":\"Chat_chat__MqTQc\",\"chatWrapper\":\"Chat_chatWrapper__2qcnf\",\"messageComposerWrapper\":\"Chat_messageComposerWrapper__F_cz9\",\"users\":\"Chat_users__2ZVL1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"UserAccountSelector_wrapper__14CwZ\",\"select\":\"UserAccountSelector_select__2dD_M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageWrapper\":\"Authorization_pageWrapper__1INK9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ChannelsList_wrapper__2TzLn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Label_label__hnL6C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__3wCDr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Ce79\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"TextInput_input__1RIOw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"emojiButton\":\"ReactionIcon_emojiButton__1a3x2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MessageViewer_wrapper__1JMu6\",\"wrapperEmpty\":\"MessageViewer_wrapperEmpty__15wVh\",\"message\":\"MessageViewer_message__1fhVk\",\"metadata\":\"MessageViewer_metadata__sBKos\",\"username\":\"MessageViewer_username__1OUd4\",\"timestamp\":\"MessageViewer_timestamp__3rhWf\",\"editButton\":\"MessageViewer_editButton__2UjSQ\"};"],"sourceRoot":""}