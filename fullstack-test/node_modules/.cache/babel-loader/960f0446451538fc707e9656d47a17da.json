{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sameenathabassum/Desktop/discord-test/fullstack-test/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sameenathabassum/Desktop/discord-test/fullstack-test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sameenathabassum/Desktop/discord-test/fullstack-test/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import Button from\"./Button\";import TextInput from\"./TextInput\";import{editMessage}from\"../actions\";import styles from\"./MessageEditor.module.css\";import{MessageCharacterWarning}from\"./MessageComposer\";import{MESSAGE_LIMIT}from\"../constants\";var MessageEditor=function MessageEditor(_ref){var id=_ref.id,content=_ref.content,onClose=_ref.onClose,channelId=_ref.channelId;var inputRef=React.useRef(null);var _React$useState=React.useState(content),_React$useState2=_slicedToArray(_React$useState,2),inputValue=_React$useState2[0],setInputValue=_React$useState2[1];React.useLayoutEffect(function(){inputRef.current.focus();},[]);return React.createElement(\"form\",{className:styles.root,onSubmit:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return editMessage({messageId:id,channelId:channelId,content:inputRef.current.value});case 3:onClose();case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()},React.createElement(MessageCharacterWarning,{content:inputValue}),React.createElement(\"div\",{className:styles.wrapper},React.createElement(TextInput,{defaultValue:content,className:styles.input,onKeyDown:function onKeyDown(e){if(e.key===\"Escape\"){onClose();}},onChange:function onChange(e){return setInputValue(e.target.value);},ref:inputRef}),React.createElement(Button,{className:styles.button,type:\"submit\",disabled:content.length>MESSAGE_LIMIT},\"Save\")),React.createElement(\"div\",{className:styles.cancelText},\"ESC to\",\" \",React.createElement(\"button\",{onClick:function onClick(){return onClose();},className:styles.cancelButton},\"Cancel\")));};export default MessageEditor;","map":{"version":3,"sources":["/Users/sameenathabassum/Desktop/discord-test/fullstack-test/src/components/MessageEditor.jsx"],"names":["React","Button","TextInput","editMessage","styles","MessageCharacterWarning","MESSAGE_LIMIT","MessageEditor","id","content","onClose","channelId","inputRef","useRef","useState","inputValue","setInputValue","useLayoutEffect","current","focus","root","event","preventDefault","messageId","value","wrapper","input","e","key","target","button","length","cancelText","cancelButton"],"mappings":"uaAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,OAASC,uBAAT,KAAwC,mBAAxC,CACA,OAASC,aAAT,KAA8B,cAA9B,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,MAAyC,IAAtCC,CAAAA,EAAsC,MAAtCA,EAAsC,CAAlCC,OAAkC,MAAlCA,OAAkC,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,SAAgB,MAAhBA,SAAgB,CAC7D,GAAMC,CAAAA,QAAQ,CAAGZ,KAAK,CAACa,MAAN,CAAa,IAAb,CAAjB,CAD6D,oBAGzBb,KAAK,CAACc,QAAN,CAAeL,OAAf,CAHyB,oDAGtDM,UAHsD,qBAG1CC,aAH0C,qBAI7DhB,KAAK,CAACiB,eAAN,CAAsB,UAAM,CAC1BL,QAAQ,CAACM,OAAT,CAAiBC,KAAjB,GACD,CAFD,CAEG,EAFH,EAIA,MACE,6BACE,SAAS,CAAEf,MAAM,CAACgB,IADpB,CAEE,QAAQ,2FAAE,iBAAOC,KAAP,kHACRA,KAAK,CAACC,cAAN,GADQ,sBAEFnB,CAAAA,WAAW,CAAC,CAChBoB,SAAS,CAAEf,EADK,CAEhBG,SAAS,CAATA,SAFgB,CAGhBF,OAAO,CAAEG,QAAQ,CAACM,OAAT,CAAiBM,KAHV,CAAD,CAFT,QAORd,OAAO,GAPC,sDAAF,+DAFV,EAYE,oBAAC,uBAAD,EAAyB,OAAO,CAAEK,UAAlC,EAZF,CAaE,2BAAK,SAAS,CAAEX,MAAM,CAACqB,OAAvB,EACE,oBAAC,SAAD,EACE,YAAY,CAAEhB,OADhB,CAEE,SAAS,CAAEL,MAAM,CAACsB,KAFpB,CAGE,SAAS,CAAE,mBAACC,CAAD,CAAO,CAChB,GAAIA,CAAC,CAACC,GAAF,GAAU,QAAd,CAAwB,CACtBlB,OAAO,GACR,CACF,CAPH,CAQE,QAAQ,CAAE,kBAACiB,CAAD,QAAOX,CAAAA,aAAa,CAACW,CAAC,CAACE,MAAF,CAASL,KAAV,CAApB,EARZ,CASE,GAAG,CAAEZ,QATP,EADF,CAYE,oBAAC,MAAD,EACE,SAAS,CAAER,MAAM,CAAC0B,MADpB,CAEE,IAAI,CAAC,QAFP,CAGE,QAAQ,CAAErB,OAAO,CAACsB,MAAR,CAAiBzB,aAH7B,SAZF,CAbF,CAiCE,2BAAK,SAAS,CAAEF,MAAM,CAAC4B,UAAvB,WACS,GADT,CAEE,8BAAQ,OAAO,CAAE,yBAAMtB,CAAAA,OAAO,EAAb,EAAjB,CAAkC,SAAS,CAAEN,MAAM,CAAC6B,YAApD,WAFF,CAjCF,CADF,CA0CD,CAlDD,CAoDA,cAAe1B,CAAAA,aAAf","sourcesContent":["import React from \"react\";\nimport Button from \"./Button\";\nimport TextInput from \"./TextInput\";\nimport { editMessage } from \"../actions\";\nimport styles from \"./MessageEditor.module.css\";\nimport { MessageCharacterWarning } from \"./MessageComposer\";\nimport { MESSAGE_LIMIT } from \"../constants\";\n\nconst MessageEditor = ({ id, content, onClose, channelId }) => {\n  const inputRef = React.useRef(null);\n\n  const [inputValue, setInputValue] = React.useState(content);\n  React.useLayoutEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  return (\n    <form\n      className={styles.root}\n      onSubmit={async (event) => {\n        event.preventDefault();\n        await editMessage({\n          messageId: id,\n          channelId,\n          content: inputRef.current.value,\n        });\n        onClose();\n      }}\n    >\n      <MessageCharacterWarning content={inputValue} />\n      <div className={styles.wrapper}>\n        <TextInput\n          defaultValue={content}\n          className={styles.input}\n          onKeyDown={(e) => {\n            if (e.key === \"Escape\") {\n              onClose();\n            }\n          }}\n          onChange={(e) => setInputValue(e.target.value)}\n          ref={inputRef}\n        />\n        <Button\n          className={styles.button}\n          type=\"submit\"\n          disabled={content.length > MESSAGE_LIMIT}\n        >\n          Save\n        </Button>\n      </div>\n      <div className={styles.cancelText}>\n        ESC to{\" \"}\n        <button onClick={() => onClose()} className={styles.cancelButton}>\n          Cancel\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default MessageEditor;\n"]},"metadata":{},"sourceType":"module"}