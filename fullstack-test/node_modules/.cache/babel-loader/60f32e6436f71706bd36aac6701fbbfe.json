{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sameenathabassum/Desktop/discord-test/fullstack-test/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sameenathabassum/Desktop/discord-test/fullstack-test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{userStoreApi}from\"./stores/users\";import{localStorageKeys}from\"./constants\";axios.defaults.withCredentials=true;var getRoute=function getRoute(suffix){return\"http://localhost:8000\".concat(suffix);};export var createChannel=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(channelName){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(getRoute(\"/channels\"),{channelName:channelName});case 2:case\"end\":return _context.stop();}}},_callee);}));return function createChannel(_x){return _ref.apply(this,arguments);};}();export var createMessage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(channelId,content){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(getRoute(\"/channels/\".concat(channelId,\"/messages\")),{content:content});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function createMessage(_x2,_x3){return _ref2.apply(this,arguments);};}();export var createUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(username){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post(getRoute(\"/users\"),{username:username});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function createUser(_x4){return _ref3.apply(this,arguments);};}();export var logIn=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(getRoute(\"/login\"),{id:id});case 2:userStoreApi.setState({activeUserId:id});window.localStorage.setItem(localStorageKeys.USER_ID,id);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function logIn(_x5){return _ref4.apply(this,arguments);};}();export var logOut=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.post(getRoute(\"/logout\"));case 2:userStoreApi.setState({activeUserId:null});window.localStorage.setItem(localStorageKeys.USER_ID,\"\");case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function logOut(){return _ref5.apply(this,arguments);};}();export var editMessage=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(_ref6){var messageId,channelId,content;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:messageId=_ref6.messageId,channelId=_ref6.channelId,content=_ref6.content;_context6.next=3;return axios.patch(getRoute(\"/channels/\".concat(channelId,\"/messages/\").concat(messageId)),{content:content});case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function editMessage(_x6){return _ref7.apply(this,arguments);};}();export var createReaction=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(messageId,emojiId){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return axios.post(getRoute(\"/messages/\".concat(messageId,\"/reactions\")),{emojiId:emojiId});case 2:case\"end\":return _context7.stop();}}},_callee7);}));return function createReaction(_x7,_x8){return _ref8.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/sameenathabassum/Desktop/discord-test/fullstack-test/src/actions.js"],"names":["axios","userStoreApi","localStorageKeys","defaults","withCredentials","getRoute","suffix","createChannel","channelName","post","createMessage","channelId","content","createUser","username","logIn","id","setState","activeUserId","window","localStorage","setItem","USER_ID","logOut","editMessage","messageId","patch","createReaction","emojiId"],"mappings":"yRAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,OAASC,gBAAT,KAAiC,aAAjC,CAEAF,KAAK,CAACG,QAAN,CAAeC,eAAf,CAAiC,IAAjC,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,MAAD,uCAAoCA,MAApC,GAAjB,CAEA,MAAO,IAAMC,CAAAA,aAAa,0FAAG,iBAAOC,WAAP,wIACrBR,CAAAA,KAAK,CAACS,IAAN,CAAWJ,QAAQ,CAAC,WAAD,CAAnB,CAAkC,CAAEG,WAAW,CAAXA,WAAF,CAAlC,CADqB,uDAAH,kBAAbD,CAAAA,aAAa,4CAAnB,CAIP,MAAO,IAAMG,CAAAA,aAAa,2FAAG,kBAAOC,SAAP,CAAkBC,OAAlB,6IACrBZ,CAAAA,KAAK,CAACS,IAAN,CAAWJ,QAAQ,qBAAcM,SAAd,cAAnB,CAAwD,CAAEC,OAAO,CAAPA,OAAF,CAAxD,CADqB,yDAAH,kBAAbF,CAAAA,aAAa,kDAAnB,CAIP,MAAO,IAAMG,CAAAA,UAAU,2FAAG,kBAAOC,QAAP,6IAClBd,CAAAA,KAAK,CAACS,IAAN,CAAWJ,QAAQ,CAAC,QAAD,CAAnB,CAA+B,CAAES,QAAQ,CAARA,QAAF,CAA/B,CADkB,yDAAH,kBAAVD,CAAAA,UAAU,8CAAhB,CAIP,MAAO,IAAME,CAAAA,KAAK,2FAAG,kBAAOC,EAAP,6IACbhB,CAAAA,KAAK,CAACS,IAAN,CAAWJ,QAAQ,CAAC,QAAD,CAAnB,CAA+B,CAAEW,EAAE,CAAFA,EAAF,CAA/B,CADa,QAEnBf,YAAY,CAACgB,QAAb,CAAsB,CAAEC,YAAY,CAAEF,EAAhB,CAAtB,EACAG,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BnB,gBAAgB,CAACoB,OAA7C,CAAsDN,EAAtD,EAHmB,wDAAH,kBAALD,CAAAA,KAAK,8CAAX,CAMP,MAAO,IAAMQ,CAAAA,MAAM,2FAAG,+JACdvB,CAAAA,KAAK,CAACS,IAAN,CAAWJ,QAAQ,CAAC,SAAD,CAAnB,CADc,QAEpBJ,YAAY,CAACgB,QAAb,CAAsB,CAAEC,YAAY,CAAE,IAAhB,CAAtB,EACAC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4BnB,gBAAgB,CAACoB,OAA7C,CAAsD,EAAtD,EAHoB,wDAAH,kBAANC,CAAAA,MAAM,2CAAZ,CAMP,MAAO,IAAMC,CAAAA,WAAW,2FAAG,6KAASC,SAAT,OAASA,SAAT,CAAoBd,SAApB,OAAoBA,SAApB,CAA+BC,OAA/B,OAA+BA,OAA/B,wBACnBZ,CAAAA,KAAK,CAAC0B,KAAN,CAAYrB,QAAQ,qBAAcM,SAAd,sBAAoCc,SAApC,EAApB,CAAsE,CAC1Eb,OAAO,CAAPA,OAD0E,CAAtE,CADmB,yDAAH,kBAAXY,CAAAA,WAAW,8CAAjB,CAMP,MAAO,IAAMG,CAAAA,cAAc,2FAAG,kBAAOF,SAAP,CAAiBG,OAAjB,6IACtB5B,CAAAA,KAAK,CAACS,IAAN,CAAWJ,QAAQ,qBAAcoB,SAAd,eAAnB,CAAyD,CAAEG,OAAO,CAAPA,OAAF,CAAzD,CADsB,yDAAH,kBAAdD,CAAAA,cAAc,kDAApB","sourcesContent":["import axios from \"axios\";\nimport { userStoreApi } from \"./stores/users\";\nimport { localStorageKeys } from \"./constants\";\n\naxios.defaults.withCredentials = true;\n\nconst getRoute = (suffix) => `http://localhost:8000${suffix}`;\n\nexport const createChannel = async (channelName) => {\n  await axios.post(getRoute(\"/channels\"), { channelName });\n};\n\nexport const createMessage = async (channelId, content) => {\n  await axios.post(getRoute(`/channels/${channelId}/messages`), { content });\n};\n\nexport const createUser = async (username) => {\n  await axios.post(getRoute(\"/users\"), { username });\n};\n\nexport const logIn = async (id) => {\n  await axios.post(getRoute(\"/login\"), { id });\n  userStoreApi.setState({ activeUserId: id });\n  window.localStorage.setItem(localStorageKeys.USER_ID, id);\n};\n\nexport const logOut = async () => {\n  await axios.post(getRoute(\"/logout\"));\n  userStoreApi.setState({ activeUserId: null });\n  window.localStorage.setItem(localStorageKeys.USER_ID, \"\");\n};\n\nexport const editMessage = async ({ messageId, channelId, content }) => {\n  await axios.patch(getRoute(`/channels/${channelId}/messages/${messageId}`), {\n    content,\n  });\n};\n\nexport const createReaction = async (messageId,emojiId) => {\n  await axios.post(getRoute(`/messages/${messageId}/reactions`), { emojiId });\n};\n"]},"metadata":{},"sourceType":"module"}